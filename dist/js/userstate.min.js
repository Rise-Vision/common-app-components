!function(e){"use strict";try{e.module("risevision.common.config")}catch(n){e.module("risevision.common.config",[])}e.module("risevision.common.config").value("ENABLE_EXTERNAL_LOGGING",!0).value("CORE_URL","https://rvaserver2.appspot.com/_ah/api"),e.module("risevision.common.components.util",[]),e.module("risevision.common.components.logging",[]),e.module("risevision.common.components.rvtokenstore",["risevision.common.components.util","LocalStorageModule","ngBiscuit"]),e.module("risevision.common.components.userstate",["ui.router","risevision.common.components.util","risevision.common.components.rvtokenstore","risevision.common.components.logging","risevision.common.config","risevision.common.gapi","LocalStorageModule","risevision.core.cache","risevision.core.oauth2","risevision.core.company","risevision.core.util","risevision.core.userprofile","risevision.common.loading","risevision.ui-flow"]).config(["$urlRouterProvider","$stateProvider","$locationProvider",function(e,n,t){t.html5Mode(!0),e.otherwise("/"),n.state("apps",{template:"<div ui-view></div>"}).state("apps.launcher",{"abstract":!0,template:'<div class="app-launcher" ui-view></div>'}).state("apps.launcher.unauthorized",{templateProvider:["$templateCache",function(e){return e.get("userstate/login.html")}],controller:"LoginCtrl"}).state("apps.launcher.unregistered",{templateProvider:["$templateCache",function(e){return e.get("userstate/signup.html")}],controller:"SignUpCtrl"}).state("apps.launcher.signin",{url:"/signin",controller:"SignInCtrl"})}]).value("CLIENT_ID","614513768474.apps.googleusercontent.com")}(angular),function(){"use strict";angular.module("risevision.common.components.userstate").constant("USER_AUTH_WRITABLE_FIELDS",["username","password"]).constant("TOKEN_WRITABLE_FIELDS",["username","token"]).service("auth",["$q","$log","coreAPILoader","pick","USER_AUTH_WRITABLE_FIELDS","TOKEN_WRITABLE_FIELDS",function(e,n,t){var o={add:function(o,r){var a=e.defer(),s={username:o,password:r};return t().then(function(e){return e.userauth.save(s)}).then(function(e){n.debug("added user credentials",e),a.resolve(e.result)}).then(null,function(e){console.error("Failed to add credentials.",e),a.reject(e)}),a.promise},update:function(o,r){var a=e.defer(),s={username:o,password:r};return t().then(function(e){return e.userauth.update(s)}).then(function(e){n.debug("update user credentials resp",e),a.resolve(e.result)}).then(null,function(e){console.error("Failed to update credentials.",e),a.reject(e)}),a.promise},login:function(o,r){var a=e.defer(),s={username:o,password:r};return t().then(function(e){return e.userauth.login(s)}).then(function(e){n.debug("login successful",e),a.resolve(e)}).then(null,function(e){console.error("Failed to login user.",e),a.reject(e)}),a.promise},refreshToken:function(o,r){var a=e.defer(),s={username:o,token:r};return t().then(function(e){return e.userauth.refreshToken(s)}).then(function(e){n.debug("token refresh successful",e),a.resolve(e)}).then(null,function(e){console.error("Failed to refresh token.",e),a.reject(e)}),a.promise}};return o}])}(),angular.module("risevision.common.components.logging").factory("bigQueryLogging",["externalLogging","userState",function(e,n){var t={};return t.logEvent=function(t,o,r,a,s){return e.logEvent(t,o,r,a||n.getUsername(),s||n.getSelectedCompanyId())},t}]),function(e){"use strict";e.module("risevision.common.components.userstate").factory("companyState",["$location","getCompany","objectHelper","$rootScope","$log","$q",function(n,t,o,r,a,s){var i,u={userCompany:{},selectedCompany:{}},c=function(){o.clearObj(u.selectedCompany),o.clearObj(u.userCompany),a.debug("Company state has been reset.")};n.search().cid&&(a.debug("cid",n.search().cid,"saved for later processing."),i=n.search().cid);var l=function(){var e=s.defer();return t().then(function(e){var n=d.getSelectedCompanyId()?d.getSelectedCompanyId():i;return o.clearAndCopy(e,u.userCompany),m(n)}).then(null,function(){d.resetCompany()}).finally(function(){i=null,e.resolve(null)}),e.promise},m=function(e){var n=s.defer();return e&&e!==u.userCompany.id?t(e).then(function(e){o.clearAndCopy(e,u.selectedCompany),n.resolve(),r.$broadcast("risevision.company.selectedCompanyChanged")}).then(null,function(e){console.error("Failed to load selected company.",e),n.reject(e)}):(d.resetCompany(),n.resolve()),n.promise},d={init:l,switchCompany:m,updateCompanySettings:function(e){e&&e.id===d.getSelectedCompanyId()&&o.clearAndCopy(e,u.selectedCompany),e&&e.id===d.getUserCompanyId()&&o.clearAndCopy(e,u.userCompany),r.$broadcast("risevision.company.updated",{companyId:e.id})},resetCompany:function(){o.clearAndCopy(u.userCompany,u.selectedCompany),r.$broadcast("risevision.company.selectedCompanyChanged")},resetCompanyState:c,getUserCompanyId:function(){return u.userCompany&&u.userCompany.id||null},getUserCompanyName:function(){return u.userCompany&&u.userCompany.name||null},getSelectedCompanyId:function(){return u.selectedCompany&&u.selectedCompany.id||null},getSelectedCompanyName:function(){return u.selectedCompany&&u.selectedCompany.name||null},getSelectedCompanyCountry:function(){return u.selectedCompany&&u.selectedCompany.country||null},getCopyOfUserCompany:function(n){return n?e.extend({},u.userCompany):o.follow(u.userCompany)},getCopyOfSelectedCompany:function(n){return n?e.extend({},u.selectedCompany):o.follow(u.selectedCompany)},isSubcompanySelected:function(){return u.selectedCompany&&u.selectedCompany.id!==(u.userCompany&&u.userCompany.id)},isTestCompanySelected:function(){return u.selectedCompany&&u.selectedCompany.isTest===!0},isSeller:function(){return u.selectedCompany&&u.selectedCompany.sellerId?!0:!1},isRootCompany:function(){return u.userCompany&&!u.userCompany.parentId}};return d}])}(angular),function(e){"use strict";e.module("risevision.common.components.userstate").factory("customAuthFactory",["$q","$log","$templateCache","auth","gapiLoader","userState",function(e,n,t,o,r,a){var s={};return s.authenticate=function(n){var t=e.defer(),s=a._state;if(n&&n.username&&n.password){var i=e.resolve();n.newUser&&(i=o.add(n.username,n.password)),i.then(function(){return e.all([o.login(n.username,n.password),r()])}).then(function(e){var o=e[0]&&e[0].result,r=e[1];if(o&&o.item){var a={access_token:o.item,expires_in:"3600",token_type:"Bearer"};r.auth.setToken(a),t.resolve({email:n.username,token:a})}else t.reject()}).then(null,function(){t.reject()})}else s.userToken&&s.userToken.token?r().then(function(e){e.auth.setToken(s.userToken.token),t.resolve(s.userToken)}):t.reject();return t.promise},s}])}(angular),angular.module("risevision.common.components.logging").constant("EXTERNAL_LOGGER_SERVICE_URL","https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Apps_Events/tables/TABLE_ID/insertAll").constant("EXTERNAL_LOGGER_REFRESH_URL","https://www.googleapis.com/oauth2/v3/token?client_id=1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com&client_secret=nlZyrcPLg6oEwO9f9Wfn29Wh&refresh_token=1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT&grant_type=refresh_token").factory("externalLogging",["$http","$window","$q","$log","EXTERNAL_LOGGER_REFRESH_URL","EXTERNAL_LOGGER_SERVICE_URL","ENABLE_EXTERNAL_LOGGING",function(e,n,t,o,r,a,s){var i,u,c={},l=function(){var e=new Date,n=e.getUTCFullYear(),t=e.getUTCMonth()+1,o=e.getUTCDate();return 10>t&&(t="0"+t),10>o&&(o="0"+o),n.toString()+t.toString()+o.toString()},m={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:l(),rows:[{insertId:"",json:{event:"",event_details:"",event_value:0,host:"",ts:0,user_id:"",company_id:""}}]};return c.logEvent=function(r,i,u,l,d){if(o.debug("BQ log",r,i,u,l,d),s===!1)return o.debug("External Logging DISABLED"),void 0;var p=t.defer();return c.getToken().then(function(t){var s=JSON.parse(JSON.stringify(m)),c=a.replace("TABLE_ID","apps_events");s.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),s.rows[0].json.event=r,i&&(s.rows[0].json.event_details=i),u&&(s.rows[0].json.event_value=u),s.rows[0].json.user_id=l||"",s.rows[0].json.company_id=d||"",s.rows[0].json.host=n.location.hostname,s.rows[0].json.ts=(new Date).toISOString(),e.post(c,s,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then(function(e){p.resolve(e)},function(e){o.debug("error posting to BQ",e),p.reject(e)})},function(e){o.debug("BQ token ERROR",e),p.reject(e)}),p.promise},c.getToken=function(){var n=t.defer();return i&&(new Date).getTime()-u<358e4?n.resolve(i):e.post(r).then(function(e){i=e.data.access_token,u=(new Date).getTime(),n.resolve(e.data.access_token)},function(){n.reject()}),n.promise},c}]),function(e){"use strict";e.module("risevision.common.components.userstate").value("OAUTH2_SCOPES","https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile").value("GOOGLE_OAUTH2_URL","https://accounts.google.com/o/oauth2/auth").run(["$location","$window","userState","$log",function(e,n,t,o){var r=function(e){return"/"===e[0]&&(e=e.slice(1)),e},a=function(e){var n={};return e.split("&").forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n},s=e.path(),i=a(r(s));if(o.debug("URL params",i),t._restoreState(),i.access_token&&t._setUserToken(i),i.state){var u=JSON.parse(decodeURIComponent(i.state));u.p||u.s?(t._persistState(),n.location.replace(u.p+u.s+u.u)):e.$$html5?e.path(""):n.location.hash=u.u}}]).factory("googleAuthFactory",["$q","$log","$location","CLIENT_ID","gapiLoader","OAUTH2_SCOPES","getOAuthUserInfo","objectHelper","$rootScope","$interval","$window","GOOGLE_OAUTH2_URL","localStorageService","$document","uiFlowManager","getBaseDomain","rvTokenStore","$http","userState",function(e,n,t,o,r,a,s,i,u,c,l,m,d,p,g,f,v,h,y){var C=null,S=function(){c.cancel(C),C=c(function(){c.cancel(C),w()},33e5)},b=function(s){var i=e.defer(),u=y._state,c={client_id:o,scope:a,cookie_policy:t.protocol()+"://"+f()};return c.authuser="dummy"!==u.userToken?u.userToken.email:h.get("https://www.googleapis.com/oauth2/v1/userinfo?access_token="+u.params.access_token).then(function(e){return e.data.email},function(){return n.debug("Error retrieving userinfo"),c.authuser}),s?c.immediate=!0:c.prompt="select_account",e.all([r(),c.authuser]).then(function(e){var t=e[0];c.authuser=e[1],t.auth.setToken(u.params),t.auth.authorize(c,function(e){n.debug("authResult"),e&&!e.error?(u.params&&delete u.params,S(),i.resolve(e)):i.reject(e.error||"failed to authorize user")})}).then(null,i.reject),i.promise},w=function(n){var t,o=e.defer();return b(!n).then(function(e){return t=e,s()}).then(function(e){o.resolve(e)}).then(null,function(e){o.reject(e)}),o.promise},_=function(n){if(n){var t,r,s,i;u.redirectToRoot===!1?t=l.location.href.substr(0,l.location.href.indexOf("#"))||l.location.href:(t=l.location.origin+"/",r=l.location.pathname?l.location.pathname.substring(1):"",s=l.location.search),i=encodeURIComponent(encodeURIComponent(JSON.stringify({p:r,u:l.location.hash,s:s}))),y._persistState(),g.persist(),l.location.href=m+"?response_type=token&scope="+encodeURIComponent(a)+"&client_id="+o+"&redirect_uri="+encodeURIComponent(t)+"&prompt=select_account&state="+i;var c=e.defer();return c.promise}return w(n)},U={authenticate:y._state.inRVAFrame?w:_};return U}])}(angular),function(e){"use strict";e.module("risevision.common.components.rvtokenstore").service("rvTokenStore",["$log","$location","cookieStore","getBaseDomain",function(e,n,t,o){var r=function(){var e=t.get("rv-token");try{return JSON.parse(e)}catch(n){return e}},a=function(e){var n=o();"localhost"===n?t.put("rv-token",JSON.stringify(e),{path:"/"}):t.put("rv-token",JSON.stringify(e),{domain:n,path:"/"})},s=function(){var e=o();"localhost"===e?t.remove("rv-token",{path:"/"}):t.remove("rv-token",{domain:e,path:"/"})},i={read:r,write:a,clear:s};return i}])}(angular),function(e){"use strict";e.module("risevision.common.components.userstate").run(["$rootScope","userState","selectedCompanyUrlHandler",function(e,n,t){e.$on("risevision.company.selectedCompanyChanged",function(e){e&&t.updateUrl()}),e.$on("$stateChangeSuccess",t.updateSelectedCompanyFromUrl),e.$on("$routeChangeSuccess",t.updateSelectedCompanyFromUrl),e.$on("$locationChangeSuccess",t.locationChangeSuccess)}]).service("selectedCompanyUrlHandler",["$state","$stateParams","$location","userState",function(e,n,t,o){this.updateUrl=function(){var r=o.getSelectedCompanyId();r&&t.search().cid!==r&&!e.transition&&(n.cid=r,e.params.cid=r,t.search("cid",r))},this.updateSelectedCompanyFromUrl=function(){var r=t.search().cid;if(r&&o.getUserCompanyId()&&r!==o.getSelectedCompanyId())o.switchCompany(r);else if(!r&&o.getSelectedCompanyId()){var a=t.absUrl();n.cid=o.getSelectedCompanyId(),e.params.cid=o.getSelectedCompanyId(),t.search("cid",o.getSelectedCompanyId()),a===t.destUrl&&t.replace()}},this.locationChangeSuccess=function(e,n){t.destUrl=n}}])}(angular),function(e){"use strict";e.module("risevision.common.components.userstate").factory("userAuthFactory",["$q","$log","$location","CLIENT_ID","gapiLoader","OAUTH2_SCOPES","getOAuthUserInfo","objectHelper","$rootScope","$interval","$loading","$window","GOOGLE_OAUTH2_URL","localStorageService","$document","uiFlowManager","getBaseDomain","rvTokenStore","externalLogging","$http","userState","googleAuthFactory","customAuthFactory",function(n,t,o,r,a,s,i,u,c,l,m,d,p,g,f,v,h,y,C,S,b,w,_){var U,k,E=b._state,$=!0,T=function(e){if($){$=!1;try{var n=(new Date).getTime()-d.performance.timing.navigationStart;C.logEvent("page load time",e,n,b.getUsername(),b.getSelectedCompanyId())}catch(o){t.debug("Error logging load time")}}},I=function(e){E.userToken=e,y.write(E.userToken)},R=function(){},L=function(){t.debug("Clearing user token..."),R(),E.userToken=null,y.clear()},A=function(){var n=y.read();e.equals(n,E.userToken)?E.userToken&&D(!1).finally(function(){E.userToken||(t.debug("Authentication failed. Reloading..."),d.location.reload())}):d.location.reload()},O=function(){var e,n=f[0];"undefined"!=typeof n.hidden?e="visibilityState":"undefined"!=typeof n.mozHidden?e="mozVisibilityState":"undefined"!=typeof n.msHidden?e="msVisibilityState":"undefined"!=typeof n.webkitHidden&&(e="webkitVisibilityState"),t.debug("visibility: "+n[e]),"visible"===n[e]&&A()},j=function(){var e,n=f[0];return"undefined"!=typeof n.hidden?e="visibilitychange":"undefined"!=typeof n.mozHidden?e="mozvisibilitychange":"undefined"!=typeof n.msHidden?e="msvisibilitychange":"undefined"!=typeof n.webkitHidden&&(e="webkitvisibilitychange"),e},F=function(){document.addEventListener(j(),O)};F();var x=function(e){var t=!1;return U?U.promise:e?E.user.username&&E.profile.username&&E.user.username===e.email?n.resolve():(U=n.defer(),u.clearAndCopy({userId:e.id,username:e.email,picture:e.picture},E.user),I(e),b.refreshProfile().finally(function(){U.resolve(),c.$broadcast("risevision.user.authorized"),t||c.$broadcast("risevision.user.userSignedIn"),U=void 0}),U.promise):(u.clearObj(E.user),n.reject("No user"))},D=function(o,r){var s;if(o&&(k=null,b._resetState()),k)return k.promise;k=n.defer(),s=k,t.debug("authentication called");var i=function(){var n=e.isDefined(E.userToken)&&null!==E.userToken;if(t.debug("userAuthed",n),o||n===!0){var a;a=r||E.userToken&&E.userToken.token?_.authenticate(r):w.authenticate(o),a.then(x).then(function(){s.resolve()}).then(null,function(e){L(),t.debug("Authentication Error: "+e.message),s.reject(e)}).finally(function(){k=null,m.stopGlobal("risevision.user.authenticate"),T("authenticated user")})}else{var i="user is not authenticated";t.debug(i),s.reject(i),k=null,u.clearObj(E.user),m.stopGlobal("risevision.user.authenticate"),T("unauthenticated user")}};return a().finally(i),o&&m.startGlobal("risevision.user.authenticate"),s.promise},N=function(e){var o=n.defer();return a().then(function(n){e&&(d.logoutFrame.location="https://accounts.google.com/Logout"),n.auth.signOut(),k=null,L(),b._resetState(),c.$broadcast("risevision.user.signedOut"),t.debug("User is signed out."),o.resolve()},function(){o.reject()}),o.promise},P={authenticate:D,authenticatePopup:function(){return D(!0)},signOut:N};return P}])}(angular),function(e){"use strict";e.module("risevision.common.components.userstate").value("DEFAULT_PROFILE_PICTURE","http://api.randomuser.me/portraits/med/men/33.jpg").factory("userState",["$q","$log","$location","gapiLoader","userInfoCache","getUserProfile","companyState","objectHelper","$rootScope","$loading","$window","localStorageService","uiFlowManager","rvTokenStore","$http","DEFAULT_PROFILE_PICTURE",function(n,t,o,r,a,s,i,u,c,l,m,d,p,g,f,v){var h={profile:{},user:{},roleMap:{},userToken:g.read(),inRVAFrame:e.isDefined(o.search().inRVA)},y=function(){var e=n.defer();return s(h.user.username,!0).then(function(e){return k.updateUserProfile(e),i.init()}).then(function(){e.resolve()},e.reject),e.promise},C=function(){return h.user.username?!0:!1},S=function(){return null!==h.profile.username&&void 0!==h.profile.username},b=function(n){return e.isDefined(h.roleMap[n])},w=function(){return m.gapi?m.gapi.auth.getToken():null},_=function(){var n=d.get("risevision.common.userState");n&&(e.extend(h,n),d.remove("risevision.common.userState"),t.debug("userState restored with",n))},U=function(){a.removeAll(),u.clearObj(h.user),u.clearObj(h.profile),h.roleMap={},i.resetCompanyState(),t.debug("User state has been reset.")},k={getUsername:function(){return h.user&&h.user.username||null},getUserEmail:function(){return h.profile.email},getCopyOfProfile:function(n){return n?e.extend({},h.profile):u.follow(h.profile)},getUserPicture:function(){return h.user.picture||v},hasRole:b,inRVAFrame:function(){return h.inRVAFrame},isRiseAdmin:function(){return b("sa")&&i.isRootCompany()},isRiseStoreAdmin:function(){return b("ba")&&i.isRootCompany()},isUserAdmin:function(){return b("ua")},isPurchaser:function(){return b("pu")},isSeller:i.isSeller,isRiseVisionUser:S,isLoggedIn:C,getAccessToken:w,checkUsername:function(e){return!(!e||!k.getUsername()||e.toUpperCase()!==k.getUsername().toUpperCase())},updateUserProfile:function(n){k.checkUsername(n.username)&&(u.clearAndCopy(e.extend({username:h.user.username},n),h.profile),h.roleMap={},h.profile.roles&&h.profile.roles.forEach(function(e){h.roleMap[e]=!0}),c.$broadcast("risevision.user.updated"))},refreshProfile:y,getUserCompanyId:i.getUserCompanyId,getUserCompanyName:i.getUserCompanyName,getSelectedCompanyId:i.getSelectedCompanyId,getSelectedCompanyName:i.getSelectedCompanyName,getSelectedCompanyCountry:i.getSelectedCompanyCountry,getCopyOfUserCompany:i.getCopyOfUserCompany,getCopyOfSelectedCompany:i.getCopyOfSelectedCompany,isSubcompanySelected:i.isSubcompanySelected,isTestCompanySelected:i.isTestCompanySelected,isRootCompany:i.isRootCompany,updateCompanySettings:i.updateCompanySettings,updateUserCompanySettings:i.updateUserCompanySettings,resetCompany:i.resetCompany,switchCompany:i.switchCompany,_restoreState:_,_resetState:U,_setUserToken:function(e){h.params=e,h.userToken="dummy"},_persistState:function(){d.set("risevision.common.userState",h)},_state:h};return k}])}(angular),function(e){"use strict";e.module("risevision.common.components.util").value("humanReadableError",function(e){var n;return n=e.message?e.message:e.error?e.error.message?e.error.message:e.error:e,JSON.stringify(n)}).factory("dateIsInRange",[function(){return function(e,n,t){var o,r,a=!0;try{n&&(o=n.match(/(\d{4})\-(\d{2})\-(\d{2})/),r=new Date(o[1],parseInt(o[2])-1,o[3],0,0,0,0),a=e>=r),a&&t&&(o=t.match(/(\d{4})\-(\d{2})\-(\d{2})/),r=new Date(o[1],parseInt(o[2])-1,o[3],0,0,0,0),a=r>=e)}catch(s){a=!1}return a}}]).factory("objectHelper",[function(){var n={};return n.follow=function(e){var n=function(){};return n.prototype=e,new n},n.clearObj=function(e){for(var n in e)delete e[n]},n.clearAndCopy=function(t,o){n.clearObj(o),e.extend(o,t)},n}]).factory("getBaseDomain",["$log","$location",function(e,n){var t=function(e){return/^([0-9])+\.([0-9])+\.([0-9])+\.([0-9])+$/.test(e)?!0:!1};return function(){var o;if(!o){var r=n.host();if(t(r))o=r;else{var a=r.split(".");o=a.length>1?"appspot"===a[a.length-2]?a.slice(a.length-3).join("."):a.slice(a.length-2).join("."):r}e.debug("baseDomain",o)}return o}}])}(angular),angular.module("risevision.common.components.userstate").controller("LoginCtrl",["$scope","$loading","userAuthFactory","uiFlowManager",function(e,n,t,o){e.credentials={},e.googleLogin=function(e){n.startGlobal("auth-buttons-login"),t.authenticate(!0).finally(function(){n.stopGlobal("auth-buttons-login"),o.invalidateStatus(e)})},e.customLogin=function(r){n.startGlobal("auth-buttons-login"),t.authenticate(!0,e.credentials).then(function(){e.loginError=!1}).then(null,function(){e.loginError=!0}).finally(function(){n.stopGlobal("auth-buttons-login"),o.invalidateStatus(r)})}}]),angular.module("risevision.common.components.userstate").controller("SignUpCtrl",["$scope","userAuthFactory","uiFlowManager","$loading",function(e,n,t,o){e.login=function(e){o.startGlobal("auth-buttons-login"),n.authenticate(!0).then().finally(function(){o.stopGlobal("auth-buttons-login"),t.invalidateStatus(e)})}}]),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/auth-form.html",'<form id="loginForm"><div class="form-group u_margin-sm-bottom" ng-class="{\'has-error\': (!loginForm.username.$pristine && loginForm.username.$invalid) || loginError}" show-errors=""><label class="control-label">Username *</label> <input type="text" class="form-control" placeholder="Enter Username" id="username" name="username" ng-model="credentials.username" required=""><p class="text-danger" ng-show="!loginForm.username.$pristine && loginForm.username.$invalid">Please enter a Username</p></div><div class="form-group u_margin-sm-bottom" ng-class="{\'has-error\': (!loginForm.password.$pristine && loginForm.password.$invalid) || loginError}" show-errors=""><label class="control-label">Password *</label> <input type="password" class="form-control" placeholder="Enter Password" id="password" name="password" ng-model="credentials.password" required=""><p class="text-danger" ng-show="!loginForm.password.$pristine && loginForm.password.$invalid">Please enter a Password</p></div><div class="form-group"><div class="checkbox"><label class="control-label"><input type="checkbox" ng-model="credentials.newUser"> <strong>New User</strong></label></div></div><div class="form-group"><button class="btn btn-primary" ng-click="customLogin(\'registrationComplete\')"><span translate="Submit"></span> <i class="fa fa-white fa-check icon-right"></i></button><p class="text-danger" ng-show="loginError">Invalid Username/Password. Please try again.</p></div></form>')}])}(),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/login.html",'<div class="app-launcher-login"><div class="container"><div class="panel"><div class="row"><div style="border-bottom: 1px solid #CCC;"><h1 class="u_remove-top" translate="">common.signUp</h1><p class="lead text-muted" translate="">launcher.createAccount</p></div></div><div class="row"><div class="col-sm-4 col-xs-12"><div style="text-align: center; border-right: 1px solid #CCC; padding: 20px 20px;"><div ng-include="\'userstate/auth-form.html\'"></div></div></div><div class="col-sm-8 col-xs-12"><div style="padding: 20px 20px;"><button ng-click="googleLogin(\'registrationComplete\')" class="btn btn-primary btn-hg">{{\'launcher.signUpGoogle\' | translate}} <i class="fa fa-google icon-right"></i></button><p><a href="https://accounts.google.com/signup" target="_blank" translate="">launcher.dontHaveAccount</a></p><br><p class="text-muted">{{\'launcher.haveAccount\' | translate}} <a id="sign-in-link" href="#" ng-click="googleLogin(\'registrationComplete\')">{{\'common.signIn\' | translate}}</a></p></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/signup.html",'<div class="app-launcher-login"><div class="container"><div class="panel"><div class="row"><div class="col-sm-4 col-xs-12"><div class="rise-logo"><img src="https://s3.amazonaws.com/Rise-Images/Website/rise-logo.svg"></div></div><div class="col-sm-8 col-xs-12"><h1 class="u_remove-top" translate="">common.signUp</h1><p class="lead text-muted" translate="">launcher.createAccount</p><button ng-controller="RegisterButtonCtrl" ng-click="register()" class="btn btn-danger btn-hg u_margin-md-bottom" translate="">common.completeRegistration</button><br><p class="text-muted u_margin-md-top"><a id="sign-in-link" href="" ng-controller="SignOutButtonCtrl" ng-click="logout()" translate="">common.signOut</a></p></div></div></div></div></div>')}])}();